#include <stdio.h>

 struct node{

int data;
struct node *next;
struct node *prev;
};
struct node *head;
int l=0;
struct node *tail;
 void cll(){
printf("enter data");
int a;
scanf("%d",&a);
struct node *nn = (struct node*) malloc(sizeof(struct node));
nn->data=a;
nn->next=NULL;
nn->prev=NULL;
head=nn;
tail=nn;
}
void ill(){
printf("enter data");
int a;
scanf("%d",&a);
struct node *nn = (struct node*) malloc(sizeof(struct node));
nn->data=a;
nn->next=NULL;
nn->prev=tail;
tail->next=nn;
tail=nn;
}
void pll(){
    l=0;
struct   node *a=head;
while(a!=NULL){
    printf("%d ",a->data);
    a=a->next;
    ++l;
}
printf("\n");
}
void pll2(){
struct   node *a=tail;
while(a!=NULL){
    printf("%d ",a->data);
    a=a->prev;
}
printf("\n");
}
void q1(){
    printf("enter position");
    int b;
    int i;
    struct node *a=head;
    scanf("%d",&b);
    for(i=2;i<b;i++)
        a=a->next;

    printf("enter data");
int d;
scanf("%d",&d);
struct node *nn = (struct node*) malloc(sizeof(struct node));
nn->data=d;
nn->prev=a;
nn->next=a->next;
a->next->prev=nn;
a->next=nn;

}
void q2(){
tail=tail->prev;
tail->next=NULL;
}
void q3(){
struct node *a=head;
struct node *b =tail;
int q=0;
while(q<=l/2){

    int c=a->data;
    a->data=b->data;
    b->data=c;
    a=a->next;
    b=b->prev;
    ++q;
}

}


int main()
{

    cll();
    ill();
    ill();
    ill();
    ill();
    pll();
    pll2();
    q1();
    pll();
    q2();
    pll();
    q3();
    pll();

return 1;
}



